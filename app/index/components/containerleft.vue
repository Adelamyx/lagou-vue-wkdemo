<template>
    <div class="leftNav">
        <!--MenuBox导航菜单-->
        <div class="menu_box">
            <div class="nav_main">
                <h2>技术<span></span></h2>
                <router-link :to="{ path: '/technology' }">
                    <a href="javascript:;">Java</a>
                </router-link>
                <a href="#">PHP</a>
                <a href="#">C</a>
                <a href="#">C++</a>
                <a href="#">Android</a>
                <a href="#">iOS</a>
                <a href="#">前端开发</a>
                <a href="#">测试</a>
                <a href="#">技术经理</a>
                <a href="#">项目经理</a>
                <a href="#">架构师</a>
            </div>
            <div class="nav_sub">
                <dl>
                    <dt><a href="#">后端开发</a></dt>
                    <dd>
                        <a href="#">Java</a>
                        <a href="#">C++</a>
                        <a href="#">PHP</a>
                        <a href="#">数据挖掘</a>
                        <a href="#">C</a>
                        <a href="#">C#</a>
                        <a href="#">.NET</a>
                        <a href="#">Hadoop</a>
                        <a href="#">Python</a>
                        <a href="#">Delphi</a>
                        <a href="#">VB</a>
                        <a href="#">Perl</a>
                        <a href="#">Ruby</a>
                        <a href="#">Node.js</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">移动开发</a></dt>
                    <dd>
                        <a href="#">HTML5</a>
                        <a href="#">Android</a>
                        <a href="#">iOS</a>
                        <a href="#">WP</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">前端开发</a></dt>
                    <dd>
                        <a href="#">web前端</a>
                        <a href="#">Flash</a>
                        <a href="#">HTML5</a>
                        <a href="#">JavaScript</a>
                        <a href="#">U3D</a>
                        <a href="#">COCOS2D-X</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">测试</a></dt>
                    <dd>
                        <a href="#">测试工程师</a>
                        <a href="#">自动化测试</a>
                        <a href="#">功能测试</a>
                        <a href="#">性能测试</a>
                        <a href="#">测试开发</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">运维</a></dt>
                    <dd>
                        <a href="#">运维工程师</a>
                        <a href="#">运维开发工程师</a>
                        <a href="#">网络工程师</a>
                        <a href="#">系统工程师</a>
                        <a href="#">IT支持</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">DBA</a></dt>
                    <dd>
                        <a href="#">MySQL</a>
                        <a href="#">SQLServer</a>
                        <a href="#">Oracle</a>
                        <a href="#">DB2</a>
                        <a href="#">MongoDB</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#"></a>项目管理</dt>
                    <dd>
                        <a href="#">项目经理</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">高端职位</a></dt>
                    <dd>
                        <a href="#">技术经理</a>
                        <a href="#">技术总监</a>
                        <a href="#">测试经理</a>
                        <a href="#">架构师</a>
                        <a href="#">CTO</a>
                        <a href="#">运维总监</a>
                    </dd>
                </dl>

            </div>
        </div>
        <!--End MenuBox-->
        <!--MenuBox导航菜单-->
        <div class="menu_box">
            <div class="nav_main">
                <h2>产品<span></span></h2>
                <a href="#">产品经理</a>
                <a href="#">产品助理</a>
                <a href="#">无线产品经理</a>
                <a href="#">游戏策划</a>
            </div>
            <div class="nav_sub">
                <dl>
                    <dt><a href="#">产品经理</a></dt>
                    <dd>
                        <a href="#">产品经理</a>
                        <a href="#">网页产品经理</a>
                        <a href="#">移动产品经理</a>
                        <a href="#">产品助理</a>
                        <a href="#">数据产品经理</a>
                        <a href="#">电商产品经理</a>
                        <a href="#">游戏策划</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">产品设计师</a></dt>
                    <dd>
                        <a href="#">网页产品设计师</a>
                        <a href="#">无线产品设计师</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">高端职位</a></dt>
                    <dd>
                        <a href="#">产品部经理</a>
                        <a href="#">产品总监</a>
                    </dd>
                </dl>
            </div>
        </div>
        <!--End MenuBox-->
        <!--MenuBox导航菜单-->
        <div class="menu_box">
            <div class="nav_main">
                <h2>设计<span></span></h2>
                <a href="#">UI</a>
                <a href="#">UE</a>
                <a href="#">设计师</a>
                <a href="#">交互设计</a>
                <a href="#">数额分析</a>
            </div>
            <div class="nav_sub">
                <dl>
                    <dt><a href="#">视觉设计</a></dt>
                    <dd>
                        <a href="#">视觉设计师</a>
                        <a href="#">网页设计师</a>
                        <a href="#">Flash设计师</a>
                        <a href="#">APP设计师</a>
                        <a href="#">UI设计师</a>
                        <a href="#">平面设计师</a>
                        <a href="#"> 美术设计师（2D/3D）</a>
                        <a href="#">广告设计师</a>
                        <a href="#">多媒体设计师</a>
                        <a href="#">原画师</a>
                        <a href="#">游戏特效</a>
                        <a href="#">游戏界面设计师</a>
                        <a href="#">游戏场景</a>
                        <a href="#">游戏角色</a>
                        <a href="#">游戏动作</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">交互设计</a></dt>
                    <dd>
                        <a href="#">交互设计师</a>
                        <a href="#">无线交互设计师</a>
                        <a href="#">网页交互设计师</a>
                        <a href="#">硬件交互设计师</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">用户研究</a></dt>
                    <dd>
                        <a href="#">数据分析师</a>
                        <a href="#">用户研究员</a>
                        <a href="#">游戏数值策划</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">高端职位</a></dt>
                    <dd>
                        <a href="#">设计经理/主管</a>
                        <a href="#">设计总监</a>
                        <a href="#">视觉设计经理/主管</a>
                        <a href="#">视觉设计总监</a>
                        <a href="#">交互设计经理/主管</a>
                        <a href="#">交互设计总监</a>
                        <a href="#">用户研究经理/主管</a>
                        <a href="#">用户研究总监</a>
                    </dd>
                </dl>
            </div>
        </div>
        <!--End MenuBox-->
        <!--MenuBox导航菜单-->
        <div class="menu_box">
            <div class="nav_main">
                <h2>运营<span></span></h2>
                <a href="#">运营</a>
                <a href="#">游戏运营</a>
                <a href="#">编辑</a>
            </div>
            <div class="nav_sub">
                <dl>
                    <dt><a href="#">运营</a></dt>
                    <dd>
                        <a href="#">用户运营</a>
                        <a href="#">产品运营</a>
                        <a href="#">数据运营</a>
                        <a href="#">内容运营</a>
                        <a href="#">活动运营</a>
                        <a href="#">商家运营</a>
                        <a href="#">品类运营</a>
                        <a href="#">游戏运营</a>
                        <a href="#">网络推广</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">编辑</a></dt>
                    <dd>
                        <a href="#">副主编</a>
                        <a href="#">内容编辑</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">客服</a></dt>
                    <dd>
                        <a href="#">售前咨询</a>
                        <a href="#">售后客服</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">高端职位</a></dt>
                    <dd>
                        <a href="#">主编</a>
                        <a href="#">运营总监</a>
                        <a href="#">COO</a>
                    </dd>
                </dl>
            </div>
        </div>
        <!--End MenuBox-->
        <!--MenuBox导航菜单-->
        <div class="menu_box">
            <div class="nav_main">
                <h2>市场与销售<span></span></h2>
                <a href="#">市场推广</a>
                <a href="#">市场策划</a>
                <a href="#">活动策划</a>
                <a href="#">BD</a>
                <a href="#">销售经理</a>
            </div>
            <div class="nav_sub">
                <dl>
                    <dt><a href="#">市场/营销</a></dt>
                    <dd>
                        <a href="#">市场营销</a>
                        <a href="#">市场策划</a>
                        <a href="#">市场顾问</a>
                        <a href="#">市场推广</a>
                        <a href="#">SEO</a>
                        <a href="#">SEM</a>
                        <a href="#">商务渠道</a>
                        <a href="#">商业数据分析</a>
                        <a href="#">活动策划</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">公关</a></dt>
                    <dd>
                        <a href="#">媒介经理</a>
                        <a href="#">广告协调</a>
                        <a href="#">品牌公关</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">销售</a></dt>
                    <dd>
                        <a href="#">销售专员</a>
                        <a href="#">销售经理</a>
                        <a href="#">客户代表</a>
                        <a href="#">大客户代表</a>
                        <a href="#">BD经理</a>
                        <a href="#">商务渠道</a>
                        <a href="#">渠道销售</a>
                        <a href="#">代理商销售</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">高端职位</a></dt>
                    <dd>
                        <a href="#">市场总监</a>
                        <a href="#">销售总监</a>
                        <a href="#">商务总监</a>
                        <a href="#">CMO</a>
                        <a href="#">公关总监</a>
                    </dd>
                </dl>
            </div>
        </div>
        <!--End MenuBox-->
        <!--MenuBox导航菜单-->
        <div class="menu_box">
            <div class="nav_main">
                <h2>职能<span></span></h2>
                <a href="#">HR</a>
                <a href="#">行政</a>
                <a href="#">会计</a>
                <a href="#">出纳</a>
            </div>
            <div class="nav_sub">
                <dl>
                    <dt><a href="#">人力资源</a></dt>
                    <dd>
                        <a href="#">人力资源</a>
                        <a href="#">招聘</a>
                        <a href="#">HRBP</a>
                        <a href="#">人事/HR</a>
                        <a href="#">培训经理</a>
                        <a href="#">薪资福利经理</a>
                        <a href="#">绩效考核经理</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">行政</a></dt>
                    <dd>
                        <a href="#">助理</a>
                        <a href="#">前台</a>
                        <a href="#">法务</a>
                        <a href="#">行政</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">财务</a></dt>
                    <dd>
                        <a href="#">会计</a>
                        <a href="#">出纳</a>
                        <a href="#">财务</a>
                    </dd>
                </dl>
                <dl>
                    <dt><a href="#">高端职位</a></dt>
                    <dd>
                        <a href="#">行政总监/经理</a>
                        <a href="#">财务总监/经理</a>
                        <a href="#">HRD/HRM</a>
                        <a href="#">CFO</a>
                    </dd>
                </dl>
            </div>
        </div>
        <!--End MenuBox-->
        <!--Order订阅-->
        <div class="order">
            <h2>订阅职位<span></span></h2>
        </div>
        <!--End Order-->
    </div>
</template>
<style>
    .leftNav{
        width: 100%;
    }
    .leftNav .menu_box {
        position: relative;
        z-index: 7;
    }

    .leftNav .menu_box .nav_main {
        padding: 6px 12px;
        border: 2px solid #FAFAFA;
        position: relative;
    }

    .leftNav .menu_box .nav_main h2 {
        font-size: 1.12em;
        margin: 10px 0px;
    }

    .leftNav .menu_box a {
        font-size: 0.87em;
        display: inline-block;
        padding-right: 8px;
        margin: 0px 5px 10px 0px;
        white-space: nowrap;
    }

    .leftNav .menu_box:hover .nav_main {
        border: 2px solid #C9CBCE;
        border-right: #ffffff;
        background-color: #ffffff;
        z-index: 4;
        position: relative;
    }

    .leftNav a {
        color: #555555;
        text-decoration: none;
    }

    .leftNav a:hover {
        color: #019875;
        text-decoration: underline;
    }

    .leftNav .menu_box span {
        float: right;
        width: 13px;
        height: 14px;
        background: rgba(0, 0, 0, 0) url(../images/arr.png) no-repeat scroll 0 0;
    }

    .leftNav .menu_box .nav_sub {
        width: 250%;
        background-color: #ffffff;
        position: absolute;
        display: none;
    }

    .leftNav .menu_box .nav_sub dl {
        margin: 20px;
    }

    .leftNav .menu_box .nav_sub dt {
        width: 15%;
        float: left;
        text-align: right;
        margin-right: 5%;
    }

    .leftNav .menu_box .nav_sub dd {
        width: 80%;
        float: left;
    }

    .leftNav .menu_box .active {
        display: block;
        position: absolute;
        border: 2px solid #C9CBCE;
        z-index: 3;
    }

    .leftNav .order h2 {
        font-size: 1.12em;
        padding: 5%;
        margin-top: 5%;
        border-bottom: 2px solid #019875;
        cursor: pointer;
    }

    .leftNav .order span {
        width: 12px;
        height: 12px;
        float: right;
        padding: 5px;
        background: rgba(0, 0, 0, 0) url(../images/sub_icon.png) no-repeat scroll 0 0;
    }
</style>
<script>
    module.exports = {
        data: function () {
            //数据
            return {}
        },
        mounted: function () {
            //第一次加载的时候调用这个方法
            $('.menu_box').hover(function () {
                var box = $(this);
                var width = box.width(); //获取menu_box的宽度
                var leftNavHeight = box.parents('.leftNav').height(); //获取父元素leftNav的高度
                var height = box.children('.nav_sub').height() + 4; //获取子元素nav_sub的高度，并加上2个边框
                var thisTop = box.children('.nav_main').offset().top; //获取nav_main距离顶部的高度
                var thisHeight = box.children('.nav_main').height() + 12 + 4; //获取nav_main的高度

                var num = (height - thisHeight) / 2; //计算弹出导航应该向上滑动多少距离
                var finalTop = thisTop - num; //计算最终形成的导航距离顶部的距离
                var finalBottom = finalTop + height; //计算最终形成的导航距离底部的距离
                var totalTop = box.parents('.leftNav').offset().top; //获取leftNav距离顶部的高度
                var totalBottom = totalTop + leftNavHeight; //获取leftNav底部距离顶部的高度
                if (finalTop < totalTop || finalBottom > totalBottom) {
                    if (finalTop < totalTop) { /*如果顶部超过了原导航的高度就顶部对齐*/
                        box.children('.nav_sub').addClass('active').css({
                            'left': width - 2,
                            'top': 0
                        });
                    } else { /*如果底部超过了原导航的高度，则底部对齐*/
                        box.children('.nav_sub').addClass('active').css({
                            'left': width - 2,
                            'top': thisHeight - height
                        });
                    }
                } else { /*否则，中间对齐*/
                    box.children('.nav_sub').addClass('active').css({
                        'left': width - 2,
                        'top': -num
                    });
                }
            }, function () {
                var box = $(this);
                $(this).children('.nav_sub').removeClass('active');
                /*移除选中Class样式*/
            });
        },
        methods: {
            //方法
        }
    }
</script>
